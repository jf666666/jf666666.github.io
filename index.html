<ul>
<li><a href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3">环境配置文档</a>
<ul>
<li><a href="#cuda">CUDA</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8B%E8%BD%BD">安装包下载</a></li>
<li><a href="#cuda%E5%AE%89%E8%A3%85">CUDA安装</a></li>
</ul>
</li>
<li><a href="#cudnn">cuDNN</a>
<ul>
<li><a href="#%E5%8E%8B%E7%BC%A9%E5%8C%85%E4%B8%8B%E8%BD%BD">压缩包下载</a></li>
<li><a href="#cudnn%E5%AE%89%E8%A3%85">cuDNN安装</a></li>
</ul>
</li>
<li><a href="#conda">Conda</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8B%E8%BD%BD">安装包下载</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE">安装与配置</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85">安装</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE">配置</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#visual-studio-code">Visual Studio Code</a>
<ul>
<li><a href="#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85">下载安装包</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83">配置环境</a></li>
</ul>
</li>
<li><a href="#pytorch">PyTorch</a></li>
<li><a href="#powershell%E9%85%8D%E7%BD%AE">PowerShell配置</a></li>
<li><a href="#python">Python</a>
<ul>
<li><a href="#%E4%BD%BF%E7%94%A8conda%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83">使用conda创建一个虚拟环境</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a id="%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E6%96%87%E6%A1%A3" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>环境配置文档</h1>
<h2><a id="cuda" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CUDA</h2>
<h3><a id="%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8B%E8%BD%BD" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装包下载</h3>
<ol>
<li>前往<a href="https://developer.nvidia.com/cuda-toolkit-archive">CUDA Toolkit Archive</a><br />
<img src="media/17025413610203/17033345952833.jpg" alt="" /></li>
<li>下载在之前提到的Cuda 12.1版本，这里选择<a href="https://developer.nvidia.com/cuda-12-1-1-download-archive">CUDA Toolkit 12.1.1</a>进行下载，点击链接进入，选择<code>Windows</code>、<code>x86_64</code>、<code>10</code>、<code>exe(local)</code>，点击网页中的<code>exe(local)</code>开始下载。<br />
<img src="media/17025413610203/17033345953309.jpg" alt="" /></li>
</ol>
<h3><a id="cuda%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>CUDA安装</h3>
<ol>
<li>
<p>下载完成后得到一个大概3g的安装包，打开进行安装，选择一个临时目录进行解压，点击ok<br />
<img src="media/17025413610203/17033345953432.jpg" alt="" /></p>
</li>
<li>
<p>等待解压完成<br />
<img src="media/17025413610203/e739ad870e39186a7670abc870efea87.png" alt="e739ad870e39186a7670abc870efea87" /></p>
</li>
<li>
<p>解压完成后进入安装界面，这里也需要等待<br />
<img src="media/17025413610203/1eae4dbb378116c4c1b66fa3737e05af.png" alt="1eae4dbb378116c4c1b66fa3737e05af" /></p>
</li>
<li>
<p>点击同意并继续<br />
<img src="media/17025413610203/17033345953616.jpg" alt="" /></p>
</li>
<li>
<p>点击自定义后点击下一步<br />
<img src="media/17025413610203/17033345953751.jpg" alt="" /></p>
</li>
<li>
<p>展开CUDA选项取消勾选<code>Visual Studio Integration</code>，如图所示，其余不动，点击下一步<br />
<img src="media/17025413610203/17033345953843.jpg" alt="" /></p>
</li>
<li>
<p>安装位置不需要修改，直接点击下一步<br />
<img src="media/17025413610203/17033345953942.jpg" alt="" /></p>
</li>
<li>
<p>等待安装结束即可<br />
<img src="media/17025413610203/17033345954036.jpg" alt="" /></p>
</li>
</ol>
<h2><a id="cudnn" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>cuDNN</h2>
<h3><a id="%E5%8E%8B%E7%BC%A9%E5%8C%85%E4%B8%8B%E8%BD%BD" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>压缩包下载</h3>
<ol>
<li><strong>cuDNN</strong>和<strong>CUDA</strong>是配套的，需要下载相对应的版本，进入<a href="https://developer.nvidia.com/cudnn">cuDNN官网</a><br />
<img src="media/17025413610203/17033345954133.jpg" alt="" /></li>
<li>需要<strong>注册账号</strong>后才能进行下载<br />
<img src="media/17025413610203/17033345954233.jpg" alt="" /></li>
<li>注册好账号之后点击<code>Download cuDNN Library</code>按钮进入下图的下载界面<br />
<img src="media/17025413610203/17033345954334.jpg" alt="" /></li>
<li><strong>同意协议</strong>后，选择<code>for CUDA 12.x</code>进行下一个界面<br />
<img src="media/17025413610203/17033345954434.jpg" alt="" /></li>
<li>这里选择第一个<code>Local install for Windows(Zip)</code>进行下载<br />
<img src="media/17025413610203/17033345954537.jpg" alt="" /></li>
</ol>
<h3><a id="cudnn%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>cuDNN安装</h3>
<ol>
<li>下载完成后得到一个压缩包<br />
<img src="media/17025413610203/17033345954639.jpg" alt="" /></li>
<li>解压该压缩包可以看到其中有三个文件夹<br />
<img src="media/17025413610203/17033345954741.jpg" alt="" /></li>
<li>选择三个文件夹<code>bin</code>、<code>include</code>、<code>lib</code>并复制到CUDA的安装目录，默认目录为</li>
</ol>
<pre><code class="language-plain_text">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1
</code></pre>
<p><img src="media/17025413610203/17033345954846.jpg" alt="" /><br />
复制过程中出现弹窗，选择<strong>替换</strong>即可<br />
4. 将CUDA添加到<strong>环境变量</strong>中</p>
<ul>
<li>按WIN+R，打开【运行】对话框。 输入sysdm.cpl，点【确定】按钮，点开高级选项卡，点开环境变量<br />
<img src="media/17025413610203/17033345954950.jpg" alt="" /></li>
<li>选择<strong>系统变量</strong>中的Path，点击编辑，在这里需要添加CUDA的相关路径，有四个，进入先前的CUDA安装路径，点击右上侧的<code>新建</code>按钮，添加以下路径</li>
</ul>
<pre><code class="language-plain_text">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin
</code></pre>
<pre><code class="language-plain_text">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\include
</code></pre>
<pre><code class="language-plain_text">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\lib
</code></pre>
<pre><code class="language-plain_text">C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\libnvvp
</code></pre>
<p><img src="media/17025413610203/17033345955055.jpg" alt="" /></p>
<h2><a id="conda" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conda</h2>
<blockquote>
<p>Conda本身是一个开源的包管理和环境管理系统，用于安装、运行和升级包和其依赖。Conda可以在不同的Python发行版中使用，其中Anaconda和Miniconda是最著名的两种发行版，它们都包括了conda这个工具。<br />
<strong>环境管理器：</strong></p>
<ul>
<li><strong>创建隔离环境：</strong> Conda允许用户创建隔离的环境，每个环境都可以有不同的Python版本和/或包。这对于管理不同项目的依赖非常有用，避免了包之间的冲突。</li>
<li><strong>环境复制：</strong> 可以轻松地复制和共享环境，这对于确保代码在不同计算机或用户之间可重复是非常有用的。<br />
Conda是一个强大的工具，主要用于科学计算领域，它的作用可以从几个不同的方面来理解：</li>
</ul>
</blockquote>
<h3><a id="%E5%AE%89%E8%A3%85%E5%8C%85%E4%B8%8B%E8%BD%BD" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装包下载</h3>
<p>本文档选择<strong>Anaconda</strong>进行安装，进入<a href="https://www.anaconda.com/download#downloads">Anaconda下载</a>，下载Windows版本的安装包即可<br />
<img src="media/17025413610203/17033345955251.jpg" alt="" /></p>
<h3><a id="%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装与配置</h3>
<h4><a id="%E5%AE%89%E8%A3%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装</h4>
<ol>
<li>打开下载好的安装包进行安装步骤<br />
<img src="media/17025413610203/17033345955377.jpg" alt="" /></li>
<li>点击<code>Next</code>进入下一步<br />
<img src="media/17025413610203/17033345955499.jpg" alt="" /></li>
<li>点击<code>I Agree</code>同意协议<br />
<img src="media/17025413610203/17033345955616.jpg" alt="" /></li>
<li>保持默认选择<code>Just Me</code>，点击下一步<br />
<img src="media/17025413610203/17033345955769.jpg" alt="" /></li>
<li>这里可以选择其他安装位置，最好是默认的<br />
<img src="media/17025413610203/17033345955885.jpg" alt="" /></li>
<li>仍然保持默认选择，点击<code>Install</code>进行安装，等待安装完成</li>
</ol>
<h4><a id="%E9%85%8D%E7%BD%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>配置</h4>
<blockquote>
<p>主要是配置环境变量，步骤与配置CUDA的步骤一样</p>
</blockquote>
<ol>
<li>按WIN+R，打开【运行】对话框。 输入sysdm.cpl，点【确定】按钮，点开高级选项卡，点开环境变量<br />
<img src="media/17025413610203/17033345954950.jpg" alt="" /></li>
<li>选择<strong>系统变量</strong>中的Path，点击编辑，在这里需要添加Conda的相关路径，有三个，进入先前的Conda安装路径，点击右上侧的<code>新建</code>按钮，添加以下路径</li>
</ol>
<pre><code class="language-plain_text">D:\ProgramData\anaconda3
</code></pre>
<pre><code class="language-plain_text">D:\ProgramData\anaconda3\condabin
</code></pre>
<pre><code class="language-plain_text">D:\ProgramData\anaconda3\Library\bin
</code></pre>
<p><strong>注意</strong>：这里的<code>D:\ProgramData\anaconda3</code>是anaconda的安装路径，应该替换为你实际的安装地址，添加路径之后应该是这样的</p>
<h2><a id="visual-studio-code" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Visual Studio Code</h2>
<h3><a id="%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>下载安装包</h3>
<p>进入<a href="https://code.visualstudio.com">vscode官网</a>，下载<strong>Windows</strong>的<strong>Stable</strong>安装包<br />
<img src="media/17025413610203/17033345956001.jpg" alt="" /></p>
<h3><a id="%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>配置环境</h3>
<blockquote>
<p>在VScode中配置python的运行环境</p>
</blockquote>
<ol>
<li>设置VScode语言为中文</li>
</ol>
<ul>
<li>点击左侧的扩展按钮，搜索<code>Chinese</code>插件并安装<br />
<img src="media/17025413610203/17033345956128.jpg" alt="" /></li>
<li>按下快捷键<code>Ctrl+Shift+P</code>，输入<code>config display language</code>，选择中文即可<br />
<img src="media/17025413610203/17033345956262.jpg" alt="" /></li>
</ul>
<ol start="2">
<li>安装Python扩展，在左侧扩展栏搜索<code>Python</code>、<code>Python Environment Manager</code>进行安装<br />
<img src="media/17025413610203/17033345956394.jpg" alt="" /></li>
<li>Conda设置<br />
打开vscode设置，搜索conda，在下图中填入conda路径即可<br />
<img src="media/17025413610203/17033345956535.jpg" alt="" /></li>
</ol>
<h2><a id="pytorch" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>PyTorch</h2>
<p><a href="https://pytorch.org">Pytorch</a>是yolo进行检测与训练需要的最基本的库，也需要根据当前最新的pytorch支持的cuda版本，选择对应版本的CUDA安装，<br />
<img src="media/17025413610203/17033345956687.jpg" alt="" /><br />
在网站中<code>Pytorch Build</code>选择<code>Stable</code>，<code>Your OS</code>选择<code>Windows</code>，<code>Package</code>选择<code>Pip</code>，<code>Language</code>选择<code>Python</code>，<code>Compute Platform</code>选择较新的版本（是因为4060ti是较新的显卡），即<code>CUDA 12.1</code>，最终选择如图，复制最后的<code>Run this Command</code></p>
<pre><code class="language-plain_text">pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
</code></pre>
<h2><a id="powershell%E9%85%8D%E7%BD%AE" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>PowerShell配置</h2>
<blockquote>
<p>前面的conda安装好之后，需要对<code>PowerShell</code>进行简单的配置</p>
</blockquote>
<ol>
<li>在菜单栏中找到<code>PowerShell</code>，点击<code>以管理员身份运行</code>。<br />
<img src="media/17025413610203/17033345956835.jpg" alt="" /></li>
<li>打开后执行以下命令</li>
</ol>
<pre><code class="language-powershell">conda init
</code></pre>
<p><img src="media/17025413610203/17033345957003.jpg" alt="" /></p>
<ol start="3">
<li>更改PowerShell的脚本执行策略为<code>Unrestricted</code>，通过如下命令进行设置</li>
</ol>
<pre><code class="language-powershell">Set-ExecutionPolicy Unrestricted
</code></pre>
<p>运行<code>Get-ExecutionPolicy</code>以确认更改已生效</p>
<h2><a id="python" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Python</h2>
<blockquote>
<p>配置一个独立的python环境</p>
</blockquote>
<h3><a id="%E4%BD%BF%E7%94%A8conda%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83" class="anchor" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用conda创建一个虚拟环境</h3>
<ol>
<li>打开vscode，新建一个终端<br />
<img src="media/17025413610203/17033316544757.jpg" alt="" /></li>
<li>在终端中输入以下命令创建一个环境</li>
</ol>
<pre><code class="language-powershell">conda create -n auto_template python==3.9
</code></pre>
<ol start="3">
<li>激活环境<br />
创建完成后输入<code>conda activate auto_template</code>激活环境，在输入之前的pytorch命令安装pytorch</li>
</ol>
<pre><code class="language-plain_text">pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
</code></pre>
<p>安装完成后，创建一个测试用的python文件，输入以下代码</p>
<pre><code class="language-python">import torch
print(torch.cuda.is_available())
</code></pre>
<p>运行后查看输出是否为<code>True</code>，为<code>True</code>则代表安装一切顺利<br />
<img src="media/17025413610203/17033319295868.jpg" alt="" /></p>
